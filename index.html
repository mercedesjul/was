<html>
    <head>
        <title>Was Dikka?</title>
        <style>
            input{
                background-color: rgba(255, 0, 0, 0.62);
                border: solid black;
                border-radius: 12px;
                font-size: 50px;
                box-shadow: 5px 5px;
            }
        </style>
    </head>
    <body>
        <div style="font-size:40px;">Was Dikka?<span id="out"></span></div>
        <audio id="diikkaaah" src="diikkaaah.ogg"></audio>
        <audio id="dikah" src="dikah.ogg"></audio>
        <audio id="dikka" src="dikka.ogg"></audio>
        <audio id="was" src="was.ogg"></audio>
        <input type="button" onclick="was()" value="Was"/>
        <input type="button" onclick="dikka()" value="Dikka"/>
        <input type="button" onclick="diikkaaah()" value="Dikkaaah"/>
        <input type="button" onclick="dikah()" value="Dikah"/>
        <input type="button" onclick="q()" value="?"/>
        <input type="button" onclick="playAll()" value="Play"/>
        <input type="button" onclick="del()" value="Reset"/>
        <script>
            let i = -1;
            let stack = [];
            let out = document.querySelector('#out');
            function play(s) {
                let audio = document.getElementById(s);
                audio.pause();
                audio.currentTime = 0;
                audio.play();
            }
            function was() {
                out.innerHTML = out.innerHTML + ' Was';
                clearEvents();
                play('was');
                stack.push('was');
            }
            function dikka() {
                out.innerHTML = out.innerHTML + ' Dikka';
                clearEvents();
                play('dikka');
                stack.push('dikka');
            }
            function diikkaaah() {
                out.innerHTML = out.innerHTML + ' Dikkaaah';
                clearEvents();
                play('diikkaaah');
                stack.push('diikkaaah');
            }
            function dikah() {
                out.innerHTML = out.innerHTML + ' Dikah';
                clearEvents();
                play('dikah');
                stack.push('dikah');
            }
            function q(){
                out.innerHTML = out.innerHTML + '?';
            }
            function playAll() {
                i++;
                a = document.getElementById(stack[i]);
                if(a === null) {
                    i = -1;
                    return;
                }
                a.addEventListener('ended', playAll);
                a.play();
            }
            function del(){
                out.innerText = '';
                stack = [];
                document.querySelectorAll('audio').forEach(e=>{e.removeEventListener('ended', playAll);e.pause();e.currentTime = 0;})
          
            }
            clearEvents() {
                document.querySelectorAll('audio').forEach(e=>e.removeEventListener('ended', playAll))
            }
        </script>
    </body>
</html>
